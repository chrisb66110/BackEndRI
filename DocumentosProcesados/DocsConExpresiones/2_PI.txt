 puntero inteligente wikipedia la enciclopedia libre puntero inteligente de wikipedia la enciclopedia libre ir a la navegacin ir a la bsqueda en programacin un puntero inteligente smart es un tipo abstracto de datos que simula el comportamiento de un puntero corriente pero aadiendo nuevas caractersticas adicionales como recolector de basura autom tico y comprobador de lmites estas caractersticas adicionales tienen como objetivo reducir errores causados por el mal uso de punteros manteniendo la eficiencia los punteros inteligentes suelen llevar un registro de los objetos a los que apunta con el propsito de gestionar la memoria el mal uso de los punteros suele ser la mayor fuente de errores asignaciones constantes liberacin de memoria y la referencia que debe ser realizada por un programa usando punteros introduce el riesgo de prdidas de memoria los punteros inteligentes intentan prevenir las prdidas de memoria liberando autom ticamente los recursos cuando un puntero el ltimo de una serie de a un objeto es destruido porque por ejemplo se sale del mbito el objeto apuntado tambin se elimina existen varios tipos de punteros inteligentes algunos trabajan llevando la cuenta de referencias otros mediante asignacin de un objeto a un nico puntero si el lenguaje soporta recolector de basura autom tico ejemplo java el uso de los punteros inteligentes es innecesario en c++ los punteros inteligentes pueden ser implementados como una que imita mediante sobrecarga de operadores el comportamiento de los punteros tradicionales pero proporcionando algoritmos de administacin de memoria los punteros inteligentes pueden facilitar la programacin intencional expresando el uso de un puntero en su propio tipo por ejemplo si una funcin de c++ devuelve un puntero no hay forma de saber cuando se debe liberar la memoria cuando se ha terminado con el uso de la informacin algun_tipo function_ambigua qu se debera hacer con el resultado tradicionalmente esto se habra resuelto con comentarios pero esto puede ser propenso a errores devolviendo un auto_ptr de c++ auto_ptr algun_tipo funcion_obvia1 la funcin hace explcitamente que el tenga la propiedad del resultado y adem s si no se hace nada no se filtrar memoria del mismo modo si la intencin es devolver un puntero a un objeto gestionado en otros lugares la funcin podra devolver una referencia algun_tipo funcion_obvia2 ndice 1 punteros inteligentes en boost 1 1 scoped pointer 1 2 shared pointer 2 enlaces externos punteros inteligentes en boost editar la biblioteca boost de c++ nos ofrece varios tipos de punteros inteligentes los m s importantes son scoped pointer puntero no copiable shared pointer puntero copiable scoped pointer editar un scoped pointer es una clase de puntero inteligente que no puede copiarse por lo que solo puede existir un punto de acceso al objeto que apunta cuando el puntero sale del mbito el objeto se destruye y la memoria se libera sintaxis boost scoped_ptr miclase mipuntero new miclase 1 mipuntero reset new miclase 2 se puede acceder al contenido usando el operador acceder a la direccin con y acceder al puntero en bruto con el mtodo ejemplo using namespace std boost scoped_ptr class elemento static int counter int n public elemento n ++ counter cout creando elemento n endl void lanzar const char msg cout elemento n says msg endl virtual ~ elemento cout so long elemento n endl int elemento counter = 0 int main int argc char argv cout inicio del endl boost scoped_ptr elemento mielemento new elemento mielemento lanzar mensaje desde myfun_ elemento classicpointer = new elemento classicpointer lanzar mensaje del elemento con puntero cl delete classicpointer necesario borrarlo manualmente cout fin del endl boost scoped_ptr string ptrcadena ptrcadena reset new string cout longitud de cadena ptrcadena length endl cout ptrcadena endl return 0 shared pointer editar un shared pointer es un tipo de puntero inteligente que guarda un contador de referencias al objeto al que apunta cada vez que se hace una copia del puntero se aumenta el contador cuando se destruye uno de los shared pointer el contador disminuye cuando el contador llega a cero quiere decir que no hay m s punteros apuntando al objeto por lo que este puede destruirse y liberar la memoria que ocupa todo esto se hace de forma transparente al usuario sintaxis boost shared_ptr miclase mipuntero new miclase 1 boost shared_ptr miclase otropuntero = mipuntero mipuntero reset new miclase 2 ejemplo using namespace std int tabulados boost shared_ptr string tab return string tabulados struct observado observado cout tab + creando endl ~ observado cout tab borrando endl struct mirador boost shared_ptr observado fan mirador cout tab + creando endl ~ mirador cout tab borrando endl void popular mirador m1 mirador m2 boost shared_ptr observado o new observado m1 fan = o m2 fan = o int main int argc char argv tabulados = 0 cout endl tabulados ++ cout tab inicio del primer endl mirador m1 tabulados ++ cout tab inicio del segundo endl mirador m2 popular m1 m2 cout tab fin del segundo endl tabulados cout tab final del primer endl tabulados cout endl return 0 enlaces externos editar captulo de muestra smart pointers del libro modern c++ design generic programming and design patterns applied por andrei alexandrescu addison wesley 2001 cdigo de ejemplo countptr hpp del libro the c++ standard library a tutorial and reference por nicolai m josuttis artculo smart pointers in boost artculo the new c++ pointers por herb sutter smart pointers what why which por yonat sharon smart pointers overview por john m dlugosz yasper library otra implementacin de punteros inteligentes en c++ smart pointers en delphi obtenido de https es wikipedia org w index php title=puntero_ oldid= categoras programacin tipos de datos men de navegacin herramientas personales no has accedido discusin contribuciones crear una cuenta acceder espacios de nombres artculo discusin variantes vistas leer editar ver historial m s buscar navegacin portada portal de la comunidad actualidad cambios recientes p ginas nuevas p gina aleatoria ayuda donaciones notificar un error imprimir exportar crear un libro descargar como pdf versin para imprimir herramientas lo que enlaza aqu cambios en enlazadas subir archivo p ginas especiales enlace permanente informacin de la p gina elemento de wikidata citar esta p gina en otros idiomas e tina deutsch english franais italiano polski portugus nnn nnnn editar enlaces esta p gina se edit por ltima vez el 3 jun 2018 a las 10 36 el texto est disponible bajo la licencia creative commons atribucin compartir igual3 0 pueden aplicarse cl usulas adicionales al usar este sitio usted acepta nuestros trminos de uso y nuestra poltica de privacidad es una marca registrada de la fundacin wikimedia inc una organizacin sin nimo de lucro poltica de privacidad acerca de wikipedia limitacin de responsabilidad desarrolladores declaracin de cookies versin para mviles 